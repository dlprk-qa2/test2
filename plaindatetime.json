{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "baseTime": {
      "type": "string",
      "defaultValue": "[utcNow('u')]"
    },
    "convertedEpoch": {
      "type": "int",
      "defaultValue": "[dateTimeToEpoch(dateTimeAdd(utcNow(), 'P1Y'))]"
    },
    "utcValue": {
      "type": "string",
      "defaultValue": "[utcNow()]"
    },
    "utcShortValue": {
      "type": "string",
      "defaultValue": "[utcNow('d')]"
    },
    "utcCustomValue": {
      "type": "string",
      "defaultValue": "[utcNow('M d')]"
    }
  },
  "variables": {
    "add3Years": "[dateTimeAdd(parameters('baseTime'), 'P3Y')]",
    "subtract9Days": "[dateTimeAdd(parameters('baseTime'), '-P9D')]",
    "add1Hour": "[dateTimeAdd(parameters('baseTime'), 'PT1H')]",
    "convertedDatetime": "[dateTimeFromEpoch(parameters('convertedEpoch'))]"
  },
  "resources": [
    {
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "2020-10-01",
      "name" : "[concat('Name','2')]",
      "location": "[contains(parameters('stringData'), 'e')]",
       "properties": {

        "add3YearsOutput": {
          "value": "[variables('add3Years')]",
          "type": "string"
        },
        "subtract9DaysOutput": {
          "value": "[variables('subtract9Days')]",
          "type": "string"
        },
        "add1HourOutput": {
          "value": "[variables('add1Hour')]",
          "type": "string"
        },
        "epochValue": {
          "type": "int",
          "value": "[parameters('convertedEpoch')]"
        },
        "datetimeValue": {
          "type": "string",
          "value": "[variables('convertedDatetime')]"
        },
        "utcOutput": {
          "type": "string",
          "value": "[parameters('utcValue')]"
        },
        "utcShortOutput": {
          "type": "string",
          "value": "[parameters('utcShortValue')]"
        },
        "utcCustomOutput": {
          "type": "string",
          "value": "[parameters('utcCustomValue')]"
        }
      }
       }

      
  
    
  ]
}
  


